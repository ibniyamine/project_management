<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytiques - DataCollab</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <!-- Sidebar Header -->
        <div class="sidebar-header">
            <a href="index.html" class="sidebar-brand">
                <i class="fas fa-chart-line me-2"></i>DataCollab
            </a>
        </div>
        
        <!-- Sidebar Navigation -->
        <nav class="sidebar-nav">
            <!-- Main Navigation -->
            <div class="nav-section">
                <div class="nav-section-title">Navigation Principale</div>
                <a href="index.html" class="nav-link">
                    <i class="fas fa-tachometer-alt"></i>Dashboard
                </a>
                <a href="projects.html" class="nav-link">
                    <i class="fas fa-project-diagram"></i>Projets
                </a>
                <a href="create-project.html" class="nav-link">
                    <i class="fas fa-plus-circle"></i>Nouveau Projet
                </a>
                <a href="collaborations.html" class="nav-link">
                    <i class="fas fa-users"></i>Collaborations
                </a>
            </div>
            
            <!-- Quick Access -->
            <div class="nav-section">
                <div class="nav-section-title">Accès Rapide</div>
                <a href="my-projects.html" class="nav-link">
                    <i class="fas fa-folder"></i>Mes Projets
                </a>
                <a href="shared-projects.html" class="nav-link">
                    <i class="fas fa-share-alt"></i>Projets Partagés
                </a>
                <a href="notebooks.html" class="nav-link">
                    <i class="fas fa-book"></i>Notebooks
                </a>
                <a href="analytics.html" class="nav-link active">
                    <i class="fas fa-chart-bar"></i>Analytiques
                </a>
            </div>
            
            <!-- User Section -->
            <div class="nav-section">
                <div class="nav-section-title">Profil</div>
                <a href="profile.html" class="nav-link">
                    <i class="fas fa-user"></i>Mon Profil
                </a>
                <a href="settings.html" class="nav-link">
                    <i class="fas fa-cog"></i>Paramètres
                </a>
            </div>
        </nav>
    </div>

    <!-- Top Bar -->
    <div class="top-bar">
        <button class="mobile-toggle" id="sidebarToggle">
            <i class="fas fa-bars"></i>
        </button>
        <div class="d-flex align-items-center">
            <button class="btn theme-toggle me-3" id="themeToggle">
                <i class="fas fa-moon" id="themeIcon"></i>
                <span class="ms-2" id="themeText">Mode Sombre</span>
            </button>
            <div class="dropdown">
                <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
                    <i class="fas fa-user-circle me-2"></i>
                    <div class="d-flex flex-column align-items-start">
                        <span class="fw-bold">Dr. Marie Dupont</span>
                        <small class="text-muted">Chercheur</small>
                    </div>
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="profile.html"><i class="fas fa-user me-2"></i>Profil</a></li>
                    <li><a class="dropdown-item" href="settings.html"><i class="fas fa-cog me-2"></i>Paramètres</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="login.html"><i class="fas fa-sign-out-alt me-2"></i>Déconnexion</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="main-content-inner">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Analytiques</h2>
                            <div class="btn-group">
                                <button class="btn btn-outline-primary active">7 jours</button>
                                <button class="btn btn-outline-primary">30 jours</button>
                                <button class="btn btn-outline-primary">90 jours</button>
                            </div>
                        </div>

                        <!-- Key Metrics -->
                        <div class="row mb-4">
                            <div class="col-lg-3 col-md-6 mb-3">
                                <div class="card bg-primary text-white h-100">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h3>8</h3>
                                                <p class="mb-0">Projets Actifs</p>
                                                <small class="opacity-75">+2 cette semaine</small>
                                            </div>
                                            <i class="fas fa-project-diagram fa-2x opacity-75"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6 mb-3">
                                <div class="card bg-success text-white h-100">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h3>24</h3>
                                                <p class="mb-0">Notebooks</p>
                                                <small class="opacity-75">+5 cette semaine</small>
                                            </div>
                                            <i class="fas fa-book fa-2x opacity-75"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6 mb-3">
                                <div class="card bg-info text-white h-100">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h3>156</h3>
                                                <p class="mb-0">Téléchargements</p>
                                                <small class="opacity-75">+23 cette semaine</small>
                                            </div>
                                            <i class="fas fa-download fa-2x opacity-75"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6 mb-3">
                                <div class="card bg-warning text-white h-100">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h3>12</h3>
                                                <p class="mb-0">Collaborations</p>
                                                <small class="opacity-75">+1 cette semaine</small>
                                            </div>
                                            <i class="fas fa-users fa-2x opacity-75"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Charts Row -->
                        <div class="row mb-4">
                            <div class="col-lg-8">
                                <div class="card shadow">
                                    <div class="card-header">
                                        <h6 class="mb-0">Activité des Projets</h6>
                                    </div>
                                    <div class="card-body">
                                        <canvas id="projectActivityChart" height="100"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="card shadow">
                                    <div class="card-header">
                                        <h6 class="mb-0">Types de Projets</h6>
                                    </div>
                                    <div class="card-body">
                                        <canvas id="projectTypesChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Metrics -->
                        <div class="row mb-4">
                            <div class="col-lg-6">
                                <div class="card shadow">
                                    <div class="card-header">
                                        <h6 class="mb-0">Téléchargements par Notebook</h6>
                                    </div>
                                    <div class="card-body">
                                        <canvas id="downloadsChart" height="150"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="card shadow">
                                    <div class="card-header">
                                        <h6 class="mb-0">Collaborations par Mois</h6>
                                    </div>
                                    <div class="card-body">
                                        <canvas id="collaborationsChart" height="150"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Top Performing Projects -->
                        <div class="row">
                            <div class="col-lg-8">
                                <div class="card shadow">
                                    <div class="card-header">
                                        <h6 class="mb-0">Projets les Plus Performants</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>Projet</th>
                                                        <th>Vues</th>
                                                        <th>Téléchargements</th>
                                                        <th>Note</th>
                                                        <th>Tendance</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>
                                                            <div>
                                                                <div class="fw-bold">Prédiction de Churn Client</div>
                                                                <small class="text-muted">Classification</small>
                                                            </div>
                                                        </td>
                                                        <td>1,234</td>
                                                        <td>89</td>
                                                        <td>
                                                            <div class="d-flex align-items-center">
                                                                <span class="me-1">4.8</span>
                                                                <i class="fas fa-star text-warning"></i>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <span class="text-success">
                                                                <i class="fas fa-arrow-up"></i> +15%
                                                            </span>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <div>
                                                                <div class="fw-bold">Analyse de Sentiment Twitter</div>
                                                                <small class="text-muted">NLP</small>
                                                            </div>
                                                        </td>
                                                        <td>987</td>
                                                        <td>67</td>
                                                        <td>
                                                            <div class="d-flex align-items-center">
                                                                <span class="me-1">4.6</span>
                                                                <i class="fas fa-star text-warning"></i>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <span class="text-success">
                                                                <i class="fas fa-arrow-up"></i> +8%
                                                            </span>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <div>
                                                                <div class="fw-bold">Clustering de Clients</div>
                                                                <small class="text-muted">Clustering</small>
                                                            </div>
                                                        </td>
                                                        <td>756</td>
                                                        <td>45</td>
                                                        <td>
                                                            <div class="d-flex align-items-center">
                                                                <span class="me-1">4.3</span>
                                                                <i class="fas fa-star text-warning"></i>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <span class="text-danger">
                                                                <i class="fas fa-arrow-down"></i> -3%
                                                            </span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="card shadow">
                                    <div class="card-header">
                                        <h6 class="mb-0">Activité Récente</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="timeline">
                                            <div class="timeline-item">
                                                <div class="timeline-marker bg-success"></div>
                                                <div class="timeline-content">
                                                    <h6 class="mb-1">Nouveau notebook publié</h6>
                                                    <p class="mb-1 text-muted">data_preprocessing.ipynb</p>
                                                    <small class="text-muted">Il y a 2 heures</small>
                                                </div>
                                            </div>
                                            <div class="timeline-item">
                                                <div class="timeline-marker bg-info"></div>
                                                <div class="timeline-content">
                                                    <h6 class="mb-1">Nouvelle collaboration</h6>
                                                    <p class="mb-1 text-muted">Projet: Détection de Fraude</p>
                                                    <small class="text-muted">Il y a 1 jour</small>
                                                </div>
                                            </div>
                                            <div class="timeline-item">
                                                <div class="timeline-marker bg-warning"></div>
                                                <div class="timeline-content">
                                                    <h6 class="mb-1">Projet terminé</h6>
                                                    <p class="mb-1 text-muted">Analyse de Sentiment Twitter</p>
                                                    <small class="text-muted">Il y a 3 jours</small>
                                                </div>
                                            </div>
                                            <div class="timeline-item">
                                                <div class="timeline-marker bg-primary"></div>
                                                <div class="timeline-content">
                                                    <h6 class="mb-1">Nouveau projet créé</h6>
                                                    <p class="mb-1 text-muted">Classification d'Images</p>
                                                    <small class="text-muted">Il y a 1 semaine</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/common.js"></script>
    <script>
        // Initialize charts when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
        });

        function initializeCharts() {
            // Project Activity Chart
            const projectActivityCtx = document.getElementById('projectActivityChart').getContext('2d');
            new Chart(projectActivityCtx, {
                type: 'line',
                data: {
                    labels: ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam', 'Dim'],
                    datasets: [{
                        label: 'Projets créés',
                        data: [2, 1, 3, 2, 4, 1, 2],
                        borderColor: '#0d6efd',
                        backgroundColor: 'rgba(13, 110, 253, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'Notebooks ajoutés',
                        data: [5, 3, 7, 4, 8, 2, 6],
                        borderColor: '#198754',
                        backgroundColor: 'rgba(25, 135, 84, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Project Types Chart
            const projectTypesCtx = document.getElementById('projectTypesChart').getContext('2d');
            new Chart(projectTypesCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Classification', 'Régression', 'Clustering', 'NLP', 'Computer Vision'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: [
                            '#0d6efd',
                            '#198754',
                            '#ffc107',
                            '#dc3545',
                            '#6f42c1'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Downloads Chart
            const downloadsCtx = document.getElementById('downloadsChart').getContext('2d');
            new Chart(downloadsCtx, {
                type: 'bar',
                data: {
                    labels: ['data_preprocessing.ipynb', 'model_training.ipynb', 'sentiment_analysis.ipynb', 'clustering_analysis.ipynb'],
                    datasets: [{
                        label: 'Téléchargements',
                        data: [89, 67, 45, 34],
                        backgroundColor: '#0d6efd'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Collaborations Chart
            const collaborationsCtx = document.getElementById('collaborationsChart').getContext('2d');
            new Chart(collaborationsCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'Nouvelles collaborations',
                        data: [2, 3, 1, 4, 2, 3],
                        borderColor: '#198754',
                        backgroundColor: 'rgba(25, 135, 84, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
